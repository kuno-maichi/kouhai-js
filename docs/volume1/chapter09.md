# 第9話：関数：処理のまとまりと、効率化の喜び

　日曜日の午後。優美とのプログラミングレッスンも今日で九日目だ。

　昨日は優美がループについて学んで、「私たちの毎日もループみたい」と言った時の表情が忘れられない。あの時の優美の言葉は、僕の心に深く響いた。

　今日も優美が僕の部屋にやってきた。

「お疲れ様です、先輩！」

「おう、お疲れ。今日も頑張ろうな」

　優美の笑顔を見ると、今日も楽しい時間になりそうだ。

「今日は何を教えてくれるんですか？」

「今日は関数について学ぼう。処理をまとめて、効率的に使い回す方法だ」

「関数？」

「優美の小説でも、よく使う表現ってあるだろ？『彼は微笑んだ』とか『風が頬を撫でた』とか」

　優美が頷く。

「あります！　同じような表現を何度も書きますね」

「それを毎回一から書くのは面倒だよな。プログラミングでも同じで、よく使う処理をまとめておいて、必要な時に呼び出せるようにするんだ」

　僕はキーボードに向かった。

```javascript
function greet(name) {
    return "こんにちは、" + name + "さん！"
}

console.log(greet("優美"))
console.log(greet("雅史"))
console.log(greet("太郎"))
```

「実行してみて」

　画面に結果が表示された。

```
こんにちは、優美さん！
こんにちは、雅史さん！
こんにちは、太郎さん！
```

「すごい！　名前を変えるだけで、違う挨拶ができるんですね！」

◇◇◇◇

「関数っていうのは、処理の『レシピ』みたいなものなんだ」

「レシピ？」

「そう。料理のレシピと同じで、材料を入れると、決まった手順で調理して、完成品を返してくれる」

　優美の目が輝いた。

「材料が『引数』で、完成品が『戻り値』ってことですか？」

「その通り！　優美の理解が早いな」

　優美が嬉しそうに微笑む。

「じゃあ、優美の小説の例で関数を作ってみよう」

```javascript
function createCharacter(name, age, personality) {
    return name + "は" + age + "歳の" + personality + "な人です"
}

console.log(createCharacter("美咲", 16, "明るい"))
console.log(createCharacter("健太", 17, "優しい"))
```

「実行すると……」

```
美咲は16歳の明るい人です
健太は17歳の優しい人です
```

「わあ！　キャラクター作成が簡単になりました！」

「そう。一度関数を作っておけば、何度でも使い回せるんだ」

◇◇◇◇

「今度は、優美が関数を作ってみて」

「私が？　えーと……」

　優美は考えながらキーボードを打ち始めた。

```javascript
function expressLove(person, feeling) {
    return person + "への気持ち：" + feeling
}

console.log(expressLove("先輩", "とても大切な人"))
console.log(expressLove("家族", "愛してる"))
console.log(expressLove("友達", "大好き"))
```

　実行すると……

```
先輩への気持ち：とても大切な人
家族への気持ち：愛してる
友達への気持ち：大好き
```

　優美がまた顔を赤くしている。

「これも……キャラクターの心情表現？」

「そ、そうです！　主人公の感情を表現する関数です！」

　でも、『先輩への気持ち：とても大切な人』という表示を見て、僕の心が温かくなった。

◇◇◇◇

「関数の良いところは、同じ処理を何度も書かなくて済むことなんだ」

「効率的ですね！」

「そう。それに、もし処理を変更したい時も、関数の中身だけ変えれば、その関数を使っている全ての場所に反映される」

　僕は例を示した。

```javascript
function dailyRoutine() {
    console.log("朝起きる")
    console.log("学校に行く")
    console.log("プログラミングを学ぶ")
    console.log("楽しい時間を過ごす")
    console.log("満足して眠る")
}

dailyRoutine()
```

「これを実行すると……」

```
朝起きる
学校に行く
プログラミングを学ぶ
楽しい時間を過ごす
満足して眠る
```

「私たちの日常みたいですね！」

　優美が笑いながら言った。

「そう。もし日常を変えたくなったら、関数の中身を変えるだけでいい」

「それって、小説の『お決まりのシーン』を関数にするのと同じですね」

　優美の発想が面白い。

「例えば？」

「恋愛小説でよくある『ドキドキシーン』とか『告白シーン』とか！」

◇◇◇◇

「じゃあ、優美のアイデアで『ドキドキシーン』を関数にしてみよう」

「はい！」

　僕たちは一緒にコードを書いた。

```javascript
function dokidokiScene(character1, character2, situation) {
    console.log(character1 + "は" + character2 + "と" + situation)
    console.log(character1 + "の心臓がドキドキした")
    console.log(character1 + "の顔が赤くなった")
    console.log("二人の間に甘い空気が流れた")
}

dokidokiScene("優美", "先輩", "一緒にプログラミングをしていて")
```

　実行すると……

```
優美は先輩と一緒にプログラミングをしていて
優美の心臓がドキドキした
優美の顔が赤くなった
二人の間に甘い空気が流れた
```

　結果を見て、優美がまた真っ赤になった。

「あの……これも創作の例ですからね！」

「わかってるよ」

　でも、僕も少し照れてしまった。確かに、今の僕たちの状況そのものだ。

◇◇◇◇

「関数は、戻り値を返すこともできるんだ」

```javascript
function calculateHappiness(withWho, activity) {
    if (withWho === "優美" && activity === "プログラミング") {
        return 100
    } else if (withWho === "優美") {
        return 90
    } else {
        return 50
    }
}

let happiness = calculateHappiness("優美", "プログラミング")
console.log("幸せ度：" + happiness)
```

　実行すると、「幸せ度：100」と表示された。

「先輩……」

　優美が感動したような顔をしている。

「俺にとって、優美と一緒にプログラミングをする時間は、本当に最高なんだ」

　つい本音が出てしまった。

「私も同じ気持ちです！」

　優美が嬉しそうに答える。

◇◇◇◇

「あの、先輩」

「ん？」

「関数って、私の小説執筆にも活かせそうです」

「どういう風に？」

「よく使う描写パターンを『関数』として整理しておいて、必要な時に呼び出すんです」

　優美の発想に感心する。

「それは面白いアイデアだな」

「『夕焼けシーン』『雨の日の心情』『ドキドキの瞬間』……色々な関数を作っておけば、小説を書くのがもっと効率的になりそう！」

　優美が興奮している。

「優美の創作活動が、どんどん進化していくな」

「先輩のおかげです！　プログラミングを学んで、考え方が整理されました」

　優美の成長を見ていると、僕も嬉しくなる。

◇◇◇◇

「最後に、二人で特別な関数を作ってみよう」

「特別な関数？」

「俺たちの関係を表現する関数だ」

　僕は新しいコードを書き始めた。

```javascript
function ourRelationship(day) {
    let baseHappiness = 70
    let learningBonus = 20
    let togetherBonus = 30
    
    if (day.includes("プログラミング学習")) {
        baseHappiness += learningBonus
    }
    
    if (day.includes("二人で過ごす")) {
        baseHappiness += togetherBonus
    }
    
    return "今日の幸せ度：" + baseHappiness
}

console.log(ourRelationship("プログラミング学習、二人で過ごす"))
```

　実行すると、「今日の幸せ度：120」と表示された。

「わあ！　私たちの日常が関数になりました！」

「そう。俺たちの毎日は、この関数で表現できるんだ」

　優美が感動している。

「明日も、この関数を実行したいですね」

「もちろんだ。毎日実行し続けよう」

　僕たちは微笑み合った。

◇◇◇◇

　レッスンが終わって、優美が帰る時間になった。

「今日も楽しかったです」

「俺もだよ。関数、理解できたか？」

「はい！　処理をまとめて使い回すって、とても便利ですね」

「優美なら、きっと小説執筆にも上手く活かせると思う」

　優美が嬉しそうに微笑む。

「明日も教えてください」

「もちろんだ。次は配列について詳しく学ぼう」

「楽しみです！」

　優美が手を振って帰っていく。

　一人になった部屋で、僕は今日のことを振り返った。

（関数って、俺たちの関係にも似てるな）

　毎日同じような『処理』を繰り返すけど、少しずつ『引数』が変わって、結果も変わっていく。

　優美との時間は、僕にとって最高の『関数』だ。どんな『引数』を渡しても、必ず幸せな『戻り値』が返ってくる。

（明日はどんな『引数』で、どんな『戻り値』が得られるだろう）

　そんなことを考えながら、僕は明日への期待を膨らませた。

　関数を学んだ今日、僕は改めて実感した。

　優美との関係は、僕の人生で最も重要な『関数』。何度呼び出しても、いつも最高の結果を返してくれる、特別な存在なのだと。