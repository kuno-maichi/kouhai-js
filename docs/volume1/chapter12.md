# 第12話：オブジェクト指向：現実世界のモデル化

　水曜日の放課後。雅史先輩とのプログラミングレッスンは今日で12日目。昨日は雨で停電して、先輩の部屋で小説を書かせてもらった。あの穏やかな時間を思い出すと、今でも胸が温かくなる。

　私、柳原優美は今日も先輩の部屋に向かった。

「お疲れ様です、先輩！」

「おう、優美。昨日の小説、進んだか？」

　先輩が昨日のことを覚えていてくれて嬉しい。

「はい！　おかげさまで締め切りに間に合いそうです」

「それは良かった。じゃあ、今日はプログラミングに集中できるな」

　先輩の笑顔を見ていると、今日も新しいことを学べるワクワク感でいっぱいになる。

「今日は何を教えてくれるんですか？」

「今日はオブジェクト指向について学ぼう。プログラミングの中でも特に重要な概念だ」

「オブジェクト指向？」

　聞き慣れない言葉に首を傾げる。

「優美の小説で例えるなら、登場人物の設計や世界観の構築みたいなものだ」

　その言葉に、私の興味が一気に高まった。

◇◇◇◇

「私、登場人物の設定を考えるの、すごく好きなんです！」

　つい興奮して声が大きくなってしまった。

「一人ひとりのキャラクターに命を吹き込むような感覚で」

「その感覚、プログラミングのオブジェクト指向にとても似てるんだ」

　先輩がホワイトボードに図を描き始めた。

「例えば、優美の小説に『魔法使い』というキャラクターが出てくるとする」

「はい、よく登場させます」

「その『魔法使い』という概念が、プログラミングで言うところの『クラス』だ」

　先輩がコードを書いてくれた。

```javascript
class Wizard {
    constructor(name, magicPower) {
        this.name = name
        this.magicPower = magicPower
        this.mana = 100
    }
    
    castSpell(spellName) {
        console.log(this.name + "は" + spellName + "を唱えた！")
        this.mana -= 10
    }
    
    meditate() {
        console.log(this.name + "は瞑想してマナを回復した")
        this.mana += 20
    }
}
```

「わあ！　まるで私がキャラクター設定シートに書いてることみたい！」

　私は画面を食い入るように見つめた。

「名前、魔力、マナ……そして呪文を唱えたり、瞑想したり。本当にキャラクターの設計図ですね！」

◇◇◇◇

「そう。クラスは設計図で、そこから実際のキャラクターを生み出すんだ」

　先輩が続けてコードを書いた。

```javascript
// Wizardクラスから実際の魔法使いを生成
let yumi = new Wizard("優美", 80)
let masashi = new Wizard("雅史", 100)

yumi.castSpell("ファイアボール")
masashi.meditate()

console.log(yumi.name + "のマナ：" + yumi.mana)
console.log(masashi.name + "のマナ：" + masashi.mana)
```

　実行すると……

```
優美はファイアボールを唱えた！
雅史は瞑想してマナを回復した
優美のマナ：90
雅史のマナ：120
```

「すごい！　私と先輩が魔法使いになっちゃった！」

　思わず手を叩いて喜んでしまった。

「これって、私が小説で『同じ職業でも、キャラクターごとに個性がある』って書いてるのと同じですね！」

「その通り。同じWizardクラスから生まれても、それぞれが独立した存在なんだ」

◇◇◇◇

「あの、先輩」

「ん？」

「私の小説作りにも、このオブジェクト指向の考え方を活かせそうです」

「どういう風に？」

　私は興奮しながら説明した。

「今まで、キャラクター設定は文章で書いていたんですけど、こうやってクラスとして定義すれば、もっと体系的に管理できそう！」

「面白い発想だね」

「それに、キャラクター同士の関係性も、プログラムで表現できるかもしれません」

　私の頭の中で、アイデアが次々に湧いてくる。

◇◇◇◇

「じゃあ、優美のアイデアを形にしてみよう」

　先輩が提案してくれた。

「本当ですか？」

「うん。優美の小説のキャラクターをクラスで表現してみよう」

　私たちは一緒にコードを書き始めた。

```javascript
class Character {
    constructor(name, age, personality) {
        this.name = name
        this.age = age
        this.personality = personality
        this.relationships = {}
    }
    
    addRelationship(person, feeling) {
        this.relationships[person.name] = feeling
        console.log(this.name + "は" + person.name + "を「" + feeling + "」と思っている")
    }
    
    showProfile() {
        console.log("【" + this.name + "のプロフィール】")
        console.log("年齢：" + this.age + "歳")
        console.log("性格：" + this.personality)
        console.log("人間関係：")
        for (let person in this.relationships) {
            console.log("  " + person + "：" + this.relationships[person])
        }
    }
}
```

「これで、キャラクター同士の関係性も管理できる！」

　私は感動していた。

◇◇◇◇

「実際に使ってみよう」

　先輩と一緒に、私たちをモデルにしたキャラクターを作った。

```javascript
let yumiChar = new Character("優美", 16, "創作好きで好奇心旺盛")
let masashiChar = new Character("雅史", 17, "プログラマーで優しい")

yumiChar.addRelationship(masashiChar, "尊敬する先輩")
masashiChar.addRelationship(yumiChar, "大切な後輩")

// 時間が経って関係性が変化
yumiChar.addRelationship(masashiChar, "特別な人")

yumiChar.showProfile()
```

　実行すると……

```
優美は雅史を「尊敬する先輩」と思っている
雅史は優美を「大切な後輩」と思っている
優美は雅史を「特別な人」と思っている
【優美のプロフィール】
年齢：16歳
性格：創作好きで好奇心旺盛
人間関係：
  雅史：特別な人
```

「あ……」

　最後の「特別な人」という表示を見て、顔が熱くなった。

「これも小説の設定だよな？」

　先輩が優しく聞いてくる。

「そ、そうです！　主人公の心情の変化を表現してみました！」

　でも、先輩の表情がなんだか嬉しそうに見えた。

◇◇◇◇

「オブジェクト指向の良いところは、現実世界の関係性をそのままプログラムで表現できることなんだ」

「本当にそうですね。私の頭の中にある物語の世界が、コードになっていく感じがします」

「優美の創造力があれば、きっと素晴らしいプログラムが書けるよ」

　先輩の褒め言葉に、胸が温かくなる。

「先輩のおかげで、プログラミングと小説創作の共通点がどんどん見えてきます」

「それは優美の才能だよ。普通の人は、なかなかその繋がりに気づけない」

◇◇◇◇

「あの、先輩」

「ん？」

「私、Yume言語を作る時も、このオブジェクト指向の考え方を活かしたいです」

「どんな風に？」

「小説を書くように、自然にプログラムが書ける言語。キャラクターを生み出すように、オブジェクトを作れる言語」

　私の夢を語ると、先輩の目が輝いた。

「素晴らしいアイデアだ。それなら、創作者にとって使いやすい言語になりそうだね」

「はい！　プログラミングを知らない作家さんでも、自分の世界観をコードで表現できるような」

◇◇◇◇

「今日学んだことで、また一歩夢に近づいた気がします」

　レッスンの終わりに、私は素直な気持ちを伝えた。

「優美の成長速度は本当にすごいよ」

「それは先輩が、私の世界に寄り添って教えてくれるからです」

　私の言葉に、先輩が少し照れたような顔をした。

「俺も優美から学ぶことが多いよ。創作の視点でプログラミングを見ると、新しい発見がある」

「本当ですか？」

「ああ。優美と一緒にいると、プログラミングがもっと楽しくなる」

　その言葉に、私の心臓がドキドキした。

◇◇◇◇

　自分の部屋に戻って、今日学んだことをノートにまとめる。

『オブジェクト指向：現実世界をプログラムでモデル化する考え方』
『クラス＝設計図、インスタンス＝実体』
『私の小説の世界も、コードで表現できる』

　そして、ノートの端に小さく書き加えた。

『先輩と私の関係も、少しずつ変化している』

　クラスから生まれたインスタンスのように、私たちも独立した存在。でも、お互いの関係性は日々更新されていく。

（いつか、私の本当の気持ちも、先輩に伝えられるかな）

　窓の外を見ると、昨日の雨がウソのような青空が広がっていた。

　オブジェクト指向を学んだ今日、私は改めて実感した。

　プログラミングは、ただの技術じゃない。それは、私の創造力を形にする魔法のような力。そして、先輩と共有する特別な世界への扉なのだと。

　明日はどんな魔法を教えてもらえるだろう。そんな期待を胸に、私は小説の続きを書き始めた。主人公の女の子が、少しずつ男の子への気持ちを自覚していく場面を。